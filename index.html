<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>EbookShop â€” Ebooks et Formations</title>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">

<style>
/* ==== STYLE GLOBAL ==== */
*{margin:0;padding:0;box-sizing:border-box;font-family:'Montserrat',sans-serif;}
body{background:#1f3d2e;color:#fff;line-height:1.6;}
.container{max-width:1200px;margin:0 auto;padding:0 20px;}

/* ==== HEADER ==== */
header{position:fixed;top:0;left:0;width:100%;background:rgba(0,0,0,0.65);backdrop-filter:blur(10px);border-bottom:2px solid #ffeb3b;z-index:1000;display:flex;justify-content:space-between;align-items:center;padding:14px 20px;flex-wrap:wrap;}
.logo{font-family:'Playfair Display',serif;font-size:2em;font-weight:700;}
nav ul{display:flex;list-style:none;align-items:center;flex-wrap:wrap;}
nav li{margin-left:15px;}
nav a{color:#fff;text-decoration:none;font-weight:700;letter-spacing:0.5px;transition:0.25s;}
nav a:hover{color:#ffeb3b;}

/* ==== CART ==== */
#cartIcon{position:relative;background:#ffeb3b;color:#000;padding:12px 14px;border-radius:12px;font-size:1.1em;cursor:pointer;box-shadow:0 6px 18px rgba(0,0,0,.4);transition:0.2s;margin-left:10px;}
#cartIcon:hover{transform:scale(1.05);}
#cartCount{font-weight:700;margin-left:6px;}

/* ==== HERO SECTION ==== */
main{padding-top:120px;}
.hero{background:linear-gradient(135deg, rgba(0,0,0,.55), rgba(0,0,0,.15));border-radius:22px;padding:34px 20px;margin:24px 0 18px;box-shadow:0 14px 30px rgba(0,0,0,.45);text-align:center;}
.hero h1{font-family:'Playfair Display',serif;font-size:2.6em;margin-bottom:10px;}
.hero p{max-width:860px;margin:0 auto 18px;font-size:1.1em;opacity:.95;}

/* ==== CARDS ==== */
.section-title{font-family:'Playfair Display',serif;font-size:2.1em;text-align:center;margin:14px 0;}
.section-sub{max-width:920px;margin:0 auto 18px;text-align:center;opacity:.9;}

.grid{display:flex;flex-wrap:wrap;gap:18px;justify-content:center;}

.card{width:280px;background:rgba(255,255,255,.08);border:1px solid rgba(255,255,255,.16);border-radius:18px;padding:16px;box-shadow:0 12px 24px rgba(0,0,0,.35);backdrop-filter:blur(8px);transition: transform .3s, box-shadow .3s;}
.card:hover{transform:translateY(-6px);box-shadow:0 18px 36px rgba(0,0,0,.45);}
.card h3{font-family:'Playfair Display',serif;font-size:1.35em;margin:8px 0;}
.price{font-weight:800;margin:6px 0 10px;}

.card-desc{font-size:.92em;opacity:.95;margin-bottom:8px;}
.card-benefits{font-size:.85em;opacity:.9;margin-bottom:10px;}
.card-benefits li{margin-left:18px;list-style:disc;}

/* ==== BUTTON ==== */
.btn{display:inline-block;padding:12px 18px;border-radius:999px;font-weight:800;text-decoration:none;cursor:pointer;background:#ffeb3b;color:#000;transition:transform .18s, background .18s;border:none;}
.btn:hover{background:#fff;transform:scale(1.03);}

/* ==== INFO PAGE ==== */
#infoOverlay{position:fixed;inset:0;background:rgba(0,0,0,.92);display:none;justify-content:center;align-items:center;padding:20px;z-index:3000;}
.info-panel{width:min(620px,95%);background:rgba(255,255,255,.08);border:1px solid rgba(255,255,255,.18);border-radius:18px;padding:20px;backdrop-filter:blur(10px);max-height:90vh;overflow-y:auto;text-align:left;}
.info-panel h2{font-family:'Playfair Display';}
.info-panel ul{margin-left:20px;list-style:disc;}
.closeInfo{margin-top:12px;background:#fff;color:#000;}

/* ==== PACK ==== */
.pack-section{margin:30px 0;padding:20px;background:rgba(255,255,255,.08);border-radius:18px;text-align:center;}

/* ==== OVERLAYS ==== */
.overlay{position:fixed;inset:0;background:rgba(0,0,0,0.92);display:none;justify-content:center;align-items:center;padding:20px;z-index:2000;}
.panel{width:min(520px,95%);background:rgba(255,255,255,.08);border:1px solid rgba(255,255,255,.18);border-radius:18px;padding:20px;backdrop-filter:blur(10px);text-align:center;overflow-y:auto;max-height:90vh;}

#cartList{list-style:none;padding:0;margin-bottom:12px;}

footer{margin-top:46px;text-align:center;padding:18px;background:rgba(0,0,0,.6);}
footer a{color:#ffeb3b;text-decoration:none;}
footer a:hover{text-decoration:underline;}
.small{font-size:.9em;opacity:.9;margin-top:6px;}
</style>
</head>
<body>
<div class="container">

<header>
  <div class="logo">ðŸ“š EbookShop </div>
  <nav>
    <ul>
      <li><a href="#home">Accueil</a></li>
      <li><a href="#ebooks">Ebooks</a></li>
      <li><a href="#products">Formations</a></li>
    </ul>
  </nav>
  <div id="cartIcon">ðŸ›’ <span id="cartCount">0</span></div>
</header>

<main>
<section id="home" class="hero">
  <h1>Ebooks et Formations</h1>
  <p>GÃ©nÃ¨re tes premiers dollars en ligne avec nos e-books et formations. Choisis ton pack et commence Ã  appliquer la mÃ©thode ODB + KMF dÃ¨s aujourdâ€™hui !</p>
</section>

<section id="ebooks">
  <div class="section-title">Nos Ebooks</div>
  <div class="section-sub">Mini descriptions + bÃ©nÃ©fices inclus</div>
  <div class="grid" id="ebooksGrid"></div>
</section>

<section id="products">
  <div class="section-title">Nos Formations</div>
  <div class="section-sub">AccÃ©lÃ¨re tes rÃ©sultats avec nos formations</div>
  <div class="grid" id="productGrid"></div>
</section>

<section class="pack-section">
  <h2>Pack Complet : Ebook + Formation</h2>
  <p>Profite du pack complet pour chaque domaine.</p>
  <div class="grid" id="packGrid"></div>
</section>
</main>

<!-- PAGE Dâ€™INFORMATION -->
<div id="infoOverlay">
  <div class="info-panel">
    <h2 id="infoTitle"></h2>
    <p id="infoDesc"></p>
    <h3>Avantages :</h3>
    <ul id="infoBenefits"></ul>

    <h3>Transformations :</h3>
    <p id="infoTransform"></p>

    <h3>Bonus offert :</h3>
    <p>Mini-guide <b>PPTX</b> inclus gratuitement lors de lâ€™achat.</p>

    <button class="btn closeInfo">Fermer</button>
  </div>
</div>

<!-- PANIER -->
<div id="cartOverlay" class="overlay">
  <div class="panel">
    <h2>Panier ðŸ›’</h2>
    <ul id="cartList"></ul>
    <div id="cartTotal"></div>
    <button class="btn" id="checkoutBtn">Passer au paiement</button>
    <button class="btn" id="closeCart" style="background:#fff;color:#000;">Fermer</button>
  </div>
</div>

<!-- PAGE DE PAIEMENT -->
<div id="paymentOverlay" class="overlay">
  <div class="panel">
    <h2>Paiement Crypto</h2>
    <form id="paymentForm">
      <input type="text" id="clientName" placeholder="Nom complet" required/>
      <input type="email" id="clientEmail" placeholder="Email" required/>
      <input type="text" id="clientWhatsapp" placeholder="NumÃ©ro WhatsApp" required/>
      <label>Choisis ta crypto :</label>
      <div id="cryptoContainer" style="display:flex;gap:12px;flex-wrap:wrap;margin:12px 0;"></div>

      <div id="selectedCryptoInfo" style="margin:12px 0;display:none;">
        <div id="cryptoAmountDisplay" style="margin-bottom:6px;font-weight:700;"></div>
        <div style="display:flex;gap:6px;align-items:center;">
          <input type="text" id="cryptoAddressDisplay" readonly style="flex:1;padding:6px;border-radius:8px;border:none;"/>
          <button type="button" class="btn" id="copyAddressBtn" style="padding:6px 10px;">Copier</button>
        </div>
      </div>

      <label>AprÃ¨s paiement, colle ton TXID :</label>
      <input type="text" id="txidInput" placeholder="TXID"/>
      <button type="submit" class="btn">Confirmer le paiement</button>
    </form>

    <button class="btn" id="closePayment" style="margin-top:12px;background:#fff;color:#000;">Fermer</button>
  </div>
</div>

<footer>
  Pourquoi choisir nos ebooks et formations ?
  Nos ebooks te donnent les bases, nos formations te montrent comment les appliquer.
  Avec le pack complet, tu combines thÃ©orie et pratique.
  <p>&copy; 2025 EbookShop â€” Tous droits rÃ©servÃ©s.</p>
</footer>

<script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>

<script>
emailjs.init("MMO4RURIJnsEOY140");

const PRODUCTS = [
  {id:"marketing", name:"Marketing Digital", price:39.99},
  {id:"ofm-ia", name:"OFM IA", price:69.99}
];

/* ==== DESCRIPTIONS + BENEFICES ==== */
const INFO = {
  "marketing": {
    ebook: {
      title:"Ebook Marketing Digital",
      desc:"Le guide parfait pour commencer Ã  gagner de lâ€™argent en ligne.",
      benefits:[
        "Comprendre les bases du marketing moderne",
        "CrÃ©er ton premier systÃ¨me automatisÃ©",
        "StratÃ©gies ODB + KMF prÃªtes Ã  lâ€™emploi"
      ],
      transform:"Tu seras capable de lancer tes premiers revenus dans les 48h."
    },
    formation:{
      title:"Formation Marketing Digital",
      desc:"La formation la plus simple pour dÃ©buter rapidement.",
      benefits:[
        "MÃ©thodes avancÃ©es",
        "Exemples rÃ©els",
        "StratÃ©gies complÃ¨tes"
      ],
      transform:"Tu passes de dÃ©butant Ã  intermÃ©diaire capable de crÃ©er des tunnels rentables."
    },
    pack:{
      title:"Pack Marketing Complet",
      desc:"La combinaison parfaite pour passer Ã  lâ€™action.",
      benefits:[
        "AccÃ¨s total",
        "MÃ©thodes + Applications",
        "RÃ©sultats rapides"
      ],
      transform:"Tu peux commencer Ã  monÃ©tiser ton activitÃ© immÃ©diatement."
    }
  },

  "ofm-ia":{
    ebook:{
      title:"Ebook OFM IA",
      desc:"CrÃ©e ton modÃ¨le IA et gÃ©nÃ¨re des revenus sur OnlyFans.",
      benefits:[
        "CrÃ©ation personnage IA",
        "Automatisation",
        "Scripts & techniques"
      ],
      transform:"Tu seras capable de lancer ton premier modÃ¨le IA complet."
    },
    formation:{
      title:"Formation OFM IA",
      desc:"Formation complÃ¨te pour devenir manager OF IA.",
      benefits:[
        "Setup complet",
        "Structure professionnelle",
        "Client acquisition"
      ],
      transform:"Tu peux lancer une agence OF IA rentable."
    },
    pack:{
      title:"Pack OFM IA Complet",
      desc:"Le pack complet + bonus spÃ©cial.",
      benefits:[
        "Ebook + Formation",
        "SystÃ¨mes clonables",
        "Bonus PPTX IA"
      ],
      transform:"Tu es capable de crÃ©er un business OF IA rentable en 72h."
    }
  }
};

const ADDRESSES={ETH:"0xd4Fbc12bA94496eB13D968e575C9f03380bE4F48",BTC:"bc1qsyn0jp2nzmp2kx65kscnttmhvruq5v2hl0jwra",SOL:"3FVzZ3W2HZ7PaHN9EoWMeA5Pm4A94GyG7R6QWpYiUGRb",TRX:"TKHvwB5vDXAUJwYDZ8SJeYifZZX33fP6PA"};
const RATES={ETH:1500,BTC:25000,SOL:100,TRX:0.06};

let cart=[];

/* ===== RENDU DES CARDS ===== */
function renderProducts(){
  ebooksGrid.innerHTML=""; productGrid.innerHTML=""; packGrid.innerHTML="";

  PRODUCTS.forEach(p=>{
    const types=[
      {label:"Ebook",type:"ebook",price:p.price},
      {label:"Formation",type:"formation",price:p.price*1.2},
      {label:"Pack Complet",type:"pack",price:p.price*1.5}
    ];

    types.forEach(t=>{
      const info=INFO[p.id][t.type];

      const card=document.createElement("div");
      card.className="card";

      card.innerHTML=`
        <h3>${p.name} ${t.type==="pack"?"- Pack":""}</h3>

        <div class="card-desc">${info.desc}</div>

        <ul class="card-benefits">
          ${info.benefits.map(b=>`<li>${b}</li>`).join("")}
        </ul>

        <div class="price">${t.price.toFixed(2)} â‚¬</div>

        <button class="btn infoBtn" data-id="${p.id}" data-type="${t.type}">Plus dâ€™infos</button>
        <br><br>
        <button class="btn addCart" data-id="${p.id}" data-type="${t.type}">Ajouter au panier</button>
      `;

      if(t.type==="ebook") ebooksGrid.appendChild(card);
      else if(t.type==="formation") productGrid.appendChild(card);
      else packGrid.appendChild(card);
    });
  });

  /* BTN INFOS */
  document.querySelectorAll(".infoBtn").forEach(btn=>{
    btn.addEventListener("click",()=>{
      let id=btn.dataset.id;
      let type=btn.dataset.type;
      openInfo(id,type);
    });
  });

  /* BTN PANIER */
  document.querySelectorAll(".addCart").forEach(btn=>{
    btn.addEventListener("click",()=>{
      cart.push({id:btn.dataset.id,type:btn.dataset.type});
      cartCount.textContent = cart.length;
      alert("AjoutÃ© au panier !");
      renderCartList();
    });
  });
}

/* ===== PAGE INFO ===== */
function openInfo(id,type){
  const data=INFO[id][type];
  document.getElementById("infoTitle").textContent=data.title;
  document.getElementById("infoDesc").textContent=data.desc;
  document.getElementById("infoTransform").textContent=data.transform;
  document.getElementById("infoBenefits").innerHTML=data.benefits.map(b=>`<li>${b}</li>`).join("");
  document.getElementById("infoOverlay").style.display="flex";
}

document.querySelector(".closeInfo").addEventListener("click",()=>{
  document.getElementById("infoOverlay").style.display="none";
});

/* ===== PANIER ===== */
function renderCartList(){
  cartList.innerHTML="";
  let total=0;

  cart.forEach((item,index)=>{
    const base=PRODUCTS.find(x=>x.id===item.id).price;
    const price=item.type==="pack"?base*1.5:item.type==="formation"?base*1.2:base;
    total+=price;

    const li=document.createElement("li");
    li.innerHTML=`
      ${INFO[item.id][item.type].title} - ${price.toFixed(2)}â‚¬
      <button class="btn" style="padding:4px 8px;background:red;color:#fff;" onclick="removeCartItem(${index})">X</button>
    `;
    cartList.appendChild(li);
  });

  cartTotal.textContent="Total : "+total.toFixed(2)+" â‚¬";
}

function removeCartItem(i){
  cart.splice(i,1);
  cartCount.textContent=cart.length;
  renderCartList();
}

/* ===== NAVIGATION ===== */
document.querySelectorAll('nav a').forEach(link=>{
  link.addEventListener('click',e=>{
    e.preventDefault();
    document.querySelector(link.getAttribute('href')).scrollIntoView({behavior:'smooth'});
  });
});

cartIcon.addEventListener("click",()=>{cartOverlay.style.display="flex";renderCartList();});
closeCart.addEventListener("click",()=>cartOverlay.style.display="none");

/* ====== PAIEMENT ====== */
checkoutBtn.addEventListener("click",()=>{
  if(cart.length===0){alert("Panier vide.");return;}
  paymentOverlay.style.display="flex";
  cartOverlay.style.display="none";
  populateCryptoIcons();
});

closePayment.addEventListener("click",()=>paymentOverlay.style.display="none");

function populateCryptoIcons(){
  cryptoContainer.innerHTML="";
  selectedCryptoInfo.style.display="none";

  let total=0;
  cart.forEach(item=>{
    const base=PRODUCTS.find(x=>x.id===item.id).price;
    total+= item.type==="pack"?base*1.5:item.type==="formation"?base*1.2:base;
  });

  for(const [crypto,rate] of Object.entries(RATES)){
    const amount=(total/rate).toFixed(6);

    const btn=document.createElement("button");
    btn.className="btn";
    btn.style.padding="10px";
    btn.style.display="flex";
    btn.style.flexDirection="column";
    btn.style.alignItems="center";

    btn.innerHTML=`
      <img src="https://cryptoicons.org/api/icon/${crypto.toLowerCase()}/64" style="width:36px;">
      <span>${crypto}</span>
    `;

    btn.addEventListener("click",()=>{
      selectedCrypto=crypto;
      cryptoAmountDisplay.textContent=`Montant : ${amount} ${crypto}`;
      cryptoAddressDisplay.value=ADDRESSES[crypto];
      selectedCryptoInfo.style.display="block";
    });

    cryptoContainer.appendChild(btn);
  }
}

copyAddressBtn.addEventListener("click",()=>{
  cryptoAddressDisplay.select();
  document.execCommand("copy");
  alert("Adresse copiÃ©e !");
});

paymentForm.addEventListener("submit",e=>{
  e.preventDefault();

  const name=clientName.value;
  const mail=clientEmail.value;
  const msg=txidInput.value;

  if(!selectedCrypto || !msg){alert("ComplÃ¨te tout.");return;}

  let items="";
  let total=0;

  cart.forEach(item=>{
    const base=PRODUCTS.find(x=>x.id===item.id).price;
    const price=item.type==="pack"?base*1.5:item.type==="formation"?base*1.2:base;
    total+=price;
    items+=INFO[item.id][item.type].title+" / ";
  });

  emailjs.send("service_cqabxkm","template_vjstk32",{
    client_name:name, client_email:mail,
    cart_summary:items,
    cart_total:total+" â‚¬",
    txid:msg,
    crypto:selectedCrypto,
    crypto_address:ADDRESSES[selectedCrypto]
  }).then(()=>{
    alert("Paiement confirmÃ© !");
    cart=[];
    cartCount.textContent="0";
    paymentOverlay.style.display="none";
  });
});

renderProducts();
</script>

</div>
</body>
</html>